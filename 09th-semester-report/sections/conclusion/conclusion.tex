In our work we set out to investigate different software-based measuring instrument to identify if there exist comparable Windows compatible solutions to the most commonly used software-based measuring instrument RAPL. A hardware-based measuring instrument was also used to 

The conclusion will summarize the answers to the research question presented in \cref{ch:introduction}. These research questions were made based on observations of how most existing work use the Linux tool RAPL, where this works main goal was to compare other existing software measuring instruments from for Windows against RAPL. 


% In this section our work is concluded by summarizing the answers to the research questions presented in \cref{ch:introduction} and then forming and overall conclusions to our works main goal of comparing different measuring instruments in order to explore how the measuring instruments on Windows performs in comparison with our ground truth, and the software-based solution most commonly utilized in the literature, which is RAPL. 

%The first research question, \textbf{RQ1}, was about how to measure the energy consumption the different DUTs and OSs in way that made them comparable. 
\paragraph*{}
\cref{sec:experimental_setup} presents the methods used in this work, where our measurement methodology and our framework is described. Dynamic energy is also introduced, which allowed us to isolate the energy consumption of the test case, rather than entire CPU. The notion of dynamic energy was used throughout the results to compare the energy consumption of the test cases with minimum noise from the OSs and across different DUTs. 

%The third research question, \textbf{RQ3}, was about how the measurements compare on the two OSs. 
\paragraph*{}
In experiment \#1 we observed a higher or similar standard deviation for the measurement on Windows compared to Linux. We also saw that Windows in the majority of cases had a higher actual and dynamic energy consumption compared to Linux, which did not align with our expectations. It was also observed how the energy consumption of the idle test case was lower than we expected. Because of this, a second experiment was conducted, where the C-states were disabled on the CPU of the workstation. In this experiment the energy consumption in the idle test case increased, and the dynamic energy consumption of Windows decreased, reflecting our expectations from experiment \#1.

%%% CORROLATION exp 2
%The fourth research question, \textbf{RQ4}, was about how the DUTs compare. 
\paragraph*{}
Between the different DUT's, all measuring instruments reported a higher energy consumption for the workstation. For the laptops the Surface Pro 4 had a higher energy consumption compared to the Surface Book, reported by all measuring instruments, only with a few exceptions. One difference between the laptops was the MAXIM chip on the Surface Book, which supposedly should make E3 more accurate. The E3 measurement for the Surface Book does have a $.02$ and $.01$ higher correlation with IPG and LHM respectively, which could mean that E3 is more accurate on the Surface Book if IPG and LHM is accurate. When considering the Surface Book, it had a lower correlation between the RAPL measurements and the other software-based measuring instruments than the Surface Pro 4, it is however unclear why.

%The second research question, \textbf{RQ2}, about how do measuring instruments compared
\paragraph*{}
For the measuring instruments, we found that LHM and IPG are very similar in terms of measurements as well as being highly correlated with each other. RAPL in the majority of cases measured a lower energy consumption than LHM and IPG and it also had a lower standard deviation, with a few exceptions. E3 in most cases report an energy consumption between RAPL and LHM/IPG. The primary issue with E3 includes requirements of how the DUT should have a battery and the inability to start and stop the measuring instrument as wished, making the E3 more tedious to utilizes for our purpose. In experiment \#1, the highest correlation with the clamp on the same OS as the software-based measuring instrument was LHM and IPG with a $.01$ difference. Compared to this, RAPL had a slightly lower correlation, which suggest that LHM and IPG are more accurate than RAPL. In experiment \#2 RAPL had the highest correlation with the clamp, indicating it is more accurate for our test cases. It should however be noted that both IPG and LHM are also highly correlated, while E3 has a low to moderate correlation. The higher correlation between LHM and IPG suggest similarities in terms of how they access the energy consumption from the CPU. When comparing IPG and LHM, both had issues, where IPG crashed on some DUT's and LHM had a lower sampling rate. Opposed to this there is RAPL, which overall seems like a more integrated measuring instruments.
