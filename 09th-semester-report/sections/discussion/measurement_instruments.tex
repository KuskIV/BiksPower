\section{Measuring instruments}

The first section of the discussion will cover the different measuring instrument used. This will be done by first discussing them independently, in terms of ease of use ect., before all measuring instruments will be compared.

\paragraph*{Open Hardware Monitor / Libre Hardware Monitor:} One issue with LHM is the sampling rate. It was found in \cref{sec:rw_key_takeaways} that using the same sampling rate for the measuring instruments is beneficial when attempting to compare them. However during some initial testing with LHM it was found that using a sampling rate of more than 2 Hz would frequently produce errors. Therefore a frequency of 2 Hz is used during the experiments with LHM, whereas the other measuring instruments use a frequency of 10 Hz. A decision was made to not limit the other measuring instruments to the maximum frequency of LHM and instead accept that is an disadvantage with LHM. Besides this, the library was easy to use, as it was a C\# library easy to import and use. The only thing it lacked was a documentation.

\paragraph*{Intel Power Gadget:} In terms using the measurement instrument, Intel Power Gadget was the most promising. This tool had official documentation, and had an API making it very user friendly. The issues came when executing on the Surface Book, where it crashed for unknown reasons. The exact extend of why these crashes occurs and what devices it occurs on is unknown, but is something to explore in the future.

\paragraph*{E3:} This measurement instrument was a very promising one, based on the numbers provided by Microsoft, as presented in \cref{subsec:e3}. When using the tool, some issues did however arise. This was first of all regarding the usecase. For the other measurement instruments, they could either be started and stopped as wished, or the energy consumption could be read. This was different for E3, where you could start it, but since it only performed a measurement once a minute, it was vital to know when E3 did this, to be sure the energy consumption red was for the whole duration of one minute. This was not made easier as no official documentation was found, which meant we had to rely on blog posts. The claims found regarding the MAXIM which was the reason why the Surface Book was used, are also 7 years old by the time of writing this, and does not seem to exist in any Surface devices since 2016, which could mean they either did not work as great as Microsoft claimed, or because they were too expensive. For E3, the measurements were in most cases close to those made by IPG and LHM, which indicated it performed well compared to the other measuring instruments. Given that E3 could isolate the energy consumption of each process running on the DUT, it could have been interesting to see how well this isolation was. An experiment could have been conducted where E3 measurements on an idle DUT was compared to E3 measurements when the DUT did some background work. This is however a subject for future work.


\paragraph*{Clamp:} When considering the results from the first experiment presented in \cref{ch:results}, the clamp was observed to have a very high uncertainty compared to the other measuring instruments. The issue with the clamp compared to the other measuring instruments is how it measures the energy consumption of the entire system compared to just the CPU. Because of this, many factors can impact the measurements. We tried to address this by removing the GPU, and setting the fans to maximum speed at all times.


\paragraph*{RAPL:} This measurement instrument was similarly to LHM and IPG easy to use, and did have some documentation. RAPL has the advantage of not being required to install anything, it just works when installing Linux.

\paragraph*{Summary:} In this work five different measuring instruments has been used and if the use case is to measure the energy consumption of software, most of them worked as you would expect it. The only exception to this was E3, as it required the test case to run for one minute, but it was on the other hand the only measuring instrument able to separate the different processes running, rather than only presenting the energy consumption of the entire CPU. 