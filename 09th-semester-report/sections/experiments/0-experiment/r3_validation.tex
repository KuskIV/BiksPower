\subsection{R3 Validation}\label[subsec]{subsec:exp_r3}

In this work, an adapted version of R3 validation is used, based on the work by Bokhari et al.\cite[]{Bokhari2020r3}. The data presented in this section is based on the three measuring instruments Clamp (on Windows), LHM and IPG. When looking at the results for the different DUTs, similar observations can be made, which is one reason only the results for the workstation can be observed in \cref{fig:PowerKomplett_IntelPowerGadget_BinaryTrees_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts,fig:PowerKomplett_IntelPowerGadget_FannkuchRedux_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts}
\cref{fig:PowerKomplett_IntelPowerGadget_Fasta_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts,fig:PowerKomplett_IntelPowerGadget_Nbody_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts}. The results for the other DUT's can be found in \cref{app:r3_validation}. 

\input{tabels/experiment_results/exp_one/R3/dynamic_energy/PowerKomplett/Win32NT/BinaryTrees/without_outliers/Cores/IntelPowerGadget.tex}
\input{tabels/experiment_results/exp_one/R3/dynamic_energy/PowerKomplett/Win32NT/FannkuchRedux/without_outliers/Cores/IntelPowerGadget.tex}
\input{tabels/experiment_results/exp_one/R3/dynamic_energy/PowerKomplett/Win32NT/Fasta/without_outliers/Cores/IntelPowerGadget.tex}
\input{tabels/experiment_results/exp_one/R3/dynamic_energy/PowerKomplett/Win32NT/Nbody/without_outliers/Cores/IntelPowerGadget.tex}
\newpage

\paragraph{Expectations:} R3 validation was chosen in our work because Bokhari et al.\cite[]{Bokhari2020r3} observed that the order in which the test cases were executed, affected the results. This was argued to be the case because the state of the DUT changed over time, where different background processes were executed at different times and would use a different amount of processor power. This could evoke garbage collection, which would impact the measured energy consumption. Because of this, it was deemed unfair to execute the test cases in the same order, which resulted in the R3 way of switching the order upon a restart. The work by Bokhari et al. was however done on an android phone, whereas our work is on Windows and Linux, where we expect background processes to have less of an impact due to the hardware in general being faster and having more memory on computers than on phones. Because of this, the impact of R3 is expected to be limited.

\paragraph{Problems:} During the experiments regarding the impact of R3 validation, E3 was not fully working in our framework yet and was therefore excluded from the experiments. However a conclusion was made based on iterating over Clamp, LHM and IPG. An issue occurred because of the problems with IPG, as covered in \cref{subsec:TempBat}, which caused the DUTs to crash. The crashes occurred especially for the Surface Book, less for the Surface Pro 4, and rarely for the workstation, which is another reason why the workstation was chosen to illustrate the impact of R3-validation. Because the Surface Book crashed, most of the restarts of this DUT are a result of the background script, rather than the framework. This means the distribution of which measuring instrument started, is not equal.

\paragraph{Conclusion:} When considering the results for the workstation, it can be seen in \cref{fig:PowerKomplett_IntelPowerGadget_BinaryTrees_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts}, \cref{fig:PowerKomplett_IntelPowerGadget_FannkuchRedux_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts}, \cref{fig:PowerKomplett_IntelPowerGadget_Fasta_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts} and \cref{fig:PowerKomplett_IntelPowerGadget_Nbody_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts}. Here the energy consumption measured by Intel Power Gadget can be seen, where the measurements are the average dynamic energy in watts. The label for each plot does not represent which test case was performing the measurement, but rather which measuring instrument was the first to measure on DUT startup, in addition to which test case wasa used. This means, for each test case, there are three plots as three measuring instruments were used on the workstation on Windows. What can be observed in \cref{fig:PowerKomplett_IntelPowerGadget_BinaryTrees_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts}, \cref{fig:PowerKomplett_IntelPowerGadget_FannkuchRedux_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts}, \cref{fig:PowerKomplett_IntelPowerGadget_Fasta_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts} and \cref{fig:PowerKomplett_IntelPowerGadget_Nbody_Cores_R3_dynamic_energy_without_outliers_Win32NT_avg_watts} is a smaller impact than expected, where the R3 validation can be concluded to have no impact on the measurements at all. This means the assumption about fewer background processes in Windows is true, at least on a fresh install of Windows. Because of this, R3 validation will be disregarded, and not used anymore through the experiments. Because of this conclusion, the measurements made by E3 will be run independently, without iterating over measuring instruments.
