\subsection{Idle Experiment}
During the previous experiment from \cref{sec:experiment_one}, it was observed that the idle experiments were significantly lower than the expectations from \cref{subsec:expec_energy_consumption}, therefore some further investigation into the results was conducted. This was true for all of the software based measuring methods, while the Hardware measurements was within the lower range of the expectations. Initially we expected some erroneous implementation on our part when making the idle testCase. The original idle testCase, was implemented using Thread.Sleep(), so we tried replacing this part of the testCase with a Task.Delay() instead to see if it had any effect on the results. The results from this was identical to the previous results, so we ruled out problems with the testCase itself. The next step was looking into p-states and c-states\cite[]{PCStat}, the p-states are performance states which provides a way to change the frequency and voltage of the cpu P0 would be, max performance. The C-states become relevant when the cpu is doing little to no word as they turn off certain parts of the cpu to drastically reduce power consumption. Since the problem only seemed to occur during the idle experiments we suspected the it had something to do with the C-states. Testing wether the C-states was causing the low measurement of not we tried to disable them in BIOS, this was only possible on the work station as the surface devices left few options available to change. Running the experiments again with the C-states disable seemed to have little to no effect of the measurements. Looking more into the BIOS we discovered that the TUF B360M-PLUS GAMING motherboard has two primary performance modes, performance mode and Max power saving mode, each of these would change several other BIOS setting when changed,the toggling of the these was set to automatic and might have been a reason why the disabling of the C-states did not effect the results. Here the changes for each of the performance modes can be seen in \cref{tab:BIOSOptions}, the concrete Values may change depending on the Cpu.
\input{tabels/BIOSOptions.tex}
Enabling Performance mode made the idle testCase results much more inline with the expectations it seems that during idle the DUT would enter a C-State where it became difficult to actually measure it's energy usage. Initially we thought that this might effect the software measurements as they were somehow getting under clocked together with the rest of the cpu and thus taking measurements slower than expected, so our calculations would be off. To test this hypotheses the idle experiments where run again in performance mode, while making hardware measurements, contrary to out belief, that the effect on the hardware measurement would be little to none, it seems that the actual power usage rose with around the same amount of joules as the software measurements did. This seems to indicate that the power saving ability of the varies C-State built into the motherBoard are much more impressive than we expected. Given that the C-States drastically influenced how the computer used energy, and that they would ideally not be entered during any of the other testCases, and the purpose of this study being to compare the actual measurement methods and not the measurements themselves, it makes sense to disable the C-states so none of the testCases are using them. Though this could only be accomplished on the workstation because of the sparse BIOS settings provided on the Surface devices.
It seems to be possible to control the C-states from the OS instead of from the BIOS, but due to time constrains this solution will not be explored further\cite{CMete,CLinux}. Given that it is only the workstation that can disable the C-States a second experiment will be conducted with the C-states disabled.

\paragraph{Proccessor Power States}
Here the intuition, purpose and function for the different Power States will be covered more in depth as they drastically effect the power consumption of the computer and could, depending on the circumstances, change the outcome of experiments. This would cause the results of the experiments to be off if the Power-States are not considered part of the testCase. What will be presented here is largely based on information from Intel and some sources that conveys the information\cite{CIntel} in a more presentable manner \cite{CMete,CLinux}. The C-states manage how the system consumes energy, C0 is the normal operation of a working computer under load, each incremental C-State shuts more of the Cpu down until at C10 it is nearly completely shutdown, different CPUs and motherboards may support a different amount of c-states. The same idea applies to CC-States(Core C-states) and PC-States(Package C-States), there also seems to be Thread C-States and Hyper-Thread C-States, but the information in very sparse. Some CPUs also have enhanced C-States (C1E) which shut more of the Cpu down, but not enough to be the next C-State. The P-States(Performance States) are only used during C0, where it controls the frequency of the Cpu under load to better manage it's energy usage, the idea is the same where P0 is the highest performing state while every increment gradually lowers the frequency and voltage of the Cpu. S-States (Sleep State) controls how the system is using energy, but on a larger scale as it controls if the system is sleeping or not, every C-States occur within S0, while increments then define deeper states of sleep such as Sleep and Hibernation. The G-States (Global-States) define the overall state of the system such as G0 being a working computer where S0,C-States and P-States can occur, and G3 i when the computer is completely shutdown.
