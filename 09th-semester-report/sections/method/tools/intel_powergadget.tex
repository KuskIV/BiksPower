\subsection{Intel PowerGadget}

The Intel Power Gadget\cite[]{powergadget} is a software tool for measuring power consumption of Intel Core processors from the 2nd to 10th generation, for both Windows and macOS. What this software tool offers, is real-time estimations of the energy consumption in watts using the energy counters in the processors. 
The tool also contains a command line version called Powerlog, in addition to this, the newest versions also includes estimations of energy consumption on multi socket systems and externally callable APIs. These APIs can b used to extract information within sections of code. This is achieved by evaluating the energy Model Specific Registers (MSR) on a per-socket basis.

When measuring energy consumption the average power is measured in watts, cumulative energy in joules, cumulative energy in miliWatt-hours, temperature in Celsius and frequency in GHz. When considering the API, the sampling frequency can range from 1 to 1000 milliseconds. Here it is noted a high frequency will bring a greater accuracy, but poorer performance of the system, and a frequency of 100 milliseconds, which is the default value, is recommended.\cite*[]{powergadget_api}.

When using the Power Gadget API a reference to \texttt{EnergyLib64.dll} will make functions available. When using the library, it must first be initialized, by calling 

\texttt{IntelEnergyLibInitialize()}, where the drivers are loaded. In addition to this, the library also contains contains other method. Similar for all these methods is how they return a boolean, representing if the call was a success. In this study, this tool will only be used for power measuring, despite also having additional features like temperatures or frequencies of the processor. All functions can be found in the official documentation\cite*[]{powergadget_api}, where the relevant functions can be found in \cref{tab:intel_power_gadget_functions}.

Intel Power Gadget and its API has so far been used in studies\cite[]{Bruce2015ReducingEC, Ozturk2019, Unlu2021}, but, as is noted in the studies, no studies exists looking at the accuracy of the tool. In addition to this, it is also noted that the tool only measures energy consumption of the CPU, and not the GPU.

\input{tabels/intel_power_gadget_functions.tex}