\subsection{Running Average Power Limit (RAPL)}
Intel's Running Average Power Limit (RAPL) is a tool that allows for measuring energy consumption of different power domains and limiting the average power consumption of the components in the processor. In this report we use the functionality of RAPL to get real time data on the power consumption. It was introduced with Intelâ€™s Sandy Bridge architecture from 2011 and it has since Intel Haswell been improved to be a viable alternative to manual complex power monitors with a low and negligible performance overhead. \cite{RAPL_in_action}

The different power domains which are supported are:
\begin{itemize}
    \item CPU package (PKG): Includes the consumption of the entire socket which is all cores and uncore components which are parts that are not in the core, but is closely connected e.g. caches, memory controller, integrated graphics.
    \item DRAM: Includes the consumption of the RAM which is integrated into the memory controller.  
    \item Power Plane 0 (PP0): Includes the consumption of all cores. Excluding uncore components.
    \item Power Plane 1 (PP1): Includes uncore components. Excluding cores.
    \item PSys: Includes the consumption of the system-on-chip (SoC) which along with the processor usually includes a GPU, memory, power management circuits and USB controller. Only available on a smaller subset of models.
\end{itemize}
Although there are some limitations, since not all power domains are supported by each processor model e.g. PP1 is only supported on desktop models. The energy counters un RAPL are accessed by utilizing model-specific registers (MSRs). By default these counters are updated every 1 ms. These MSRs can be accessed on Linux and supplies an interface for doing read and write operations directly on the CPU.\cite{linux_manual_msr}. \nytafsnit

Another limitation is the poor driver support. There are only drivers available for the linux kernel. Therefore it could be beneficial to investigate wether there are useful alternatives for Windows.\cite{RAPL_in_action}  

%% We can go into more depth if needed "RAPL in Action: Experiences in using RAPL for Power Measurement"