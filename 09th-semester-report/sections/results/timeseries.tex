\section{Timeseries}\label{sec:timeseries}

%Add expectations

%Sammenligne alle test cases samme DUT og MI. se tendens.
Not all of the graphs are shown since there are a lot. In \cref{fig:time_series_Workstation_RAPL} some time-series graphs are shown where the DUT is the workstation and the measuring instrument is RAPL. Each graph is an average of all the measurements of a given configuration. In \cref{fig:time_series_Workstation_RAPL} (e)\todo[]{this is stupid} the idle test case is shown. What can be seen, is a lower average than the other test cases although there are some spikes. We can also observe that BinaryTrees consumes the most energy, followed by FannkuckRedux, Fasta, Nbody and finally TestCaseIdle. Nbody has a lower variance than the other test cases, but like the others, it does have some spikes. Since these graphs show an average over the measurements, the spikes are consistent over many measurements. Notably, all the figures seem to have a spike at around $~28$ seconds into a test case run. This is an interesting observation, in an attempt to figure out why this occurs a look at a second configuration is done. With the same DUT, but using Intel Power Gadget as shown in \cref{fig:time_series_Workstation_IntelPowerGadget} the spike at around $~28$ does not seem to appear. However, perhaps it has something to do with the Measuring instrument and not the DUT so a third configuration is looked at, where the Surface 4 Pro and RAPL are used, as shown in \cref{fig:time_series_Surface4Pro_RAPL}. Here the spikes also do not seem to appear in this configuration. The cause of the spike is as such currently unknown.

\input{tabels/reulsts_timeseries/Workstation_Rapl.tex}
%\input{tabels/reulsts_timeseries/Workstation_IntelPowerGadget}
\todo{Put in appendix}
%\input{tabels/reulsts_timeseries/SurfacePro_Rapl.tex}
\todo{Put in appendix}


%\input{tabels/reulsts_timeseries/BinaryTrees_Workstation.tex}

%Så vælg test case. vælg forksellige DUTs.
Next up, different DUTs are compared using the same test case and measurement instrument. As can be seen in \cref{fig:time_series_Fankuch_IntelPowerGadget} the Surface Book and Surface 4 Pro look similar however the Surface 4 Pro consumes $~5-10$ more joules than the Surface Book. However, they are similar in regards to variance except the Surface 4 Pro has more local minimums. When looking at \cref{fig:time_series_Fankuch_IntelPowerGadget} (a) which is the workstation it is clear that it consumes notably more energy than the other systems. It also has more variance with more peaks and local minimums. Interestingly the workstation shows a trend with a slight climb in the average energy consumption as the test case goes on.\todo{why?}

\input{tabels/reulsts_timeseries/Fankuch_IntelPowerGadget.tex}

Regarding the energy consumption, we can see that the Surface Book uses the least, followed by the Surface 4 Pro and then the Workstation. If we look at the specifications for each DUT shown in \cref{tab:surfaceBook,tab:surfacePro}. Here the two laptops' CPUs have the same TDP (15W), however, following the trend seen in the graphs, the Surface Book's CPU's configurable TDP-down (7.5W) is lower than the Surface 4 Pro's(9.5W). However, the workstation's CPU's TDP is much higher at 65W, which also shows in the energy consumption. There seems to be a correlation between energy consumption and the TDP.

%så vælg DUt hvis forskellige measruing instruments. 

Lastly, the different measuring instruments will be compared. On \cref{fig:time_series_Fankuch_Workstation} the graphs for test case FannkuchRedux on the workstations can be observed, as this DUT is the only one with clamp measurements. When considering \cref{fig:time_series_Fankuch_Workstation} (a) \& (b), which are the two software-based measuring instruments on Windows, there is a pretty consistent average, although with a slight upwards trend throughout the runtime. The average also seems to be very similar, although with Intel Power Gadget there is more variance and the peaks and local minimums are further from the average. Notable both measuring instruments seem to have a peak at $~10$ seconds. Looking at \cref{fig:time_series_Fankuch_Workstation} (c), which is RAPL, the energy consumption is slightly lower, and the slight upwards trend does not seem to be present. When looking at the clamp measurements shown in \cref{fig:time_series_Fankuch_Workstation} (d) \& (e) there is a higher energy consumption as expected since the clamp measurements measure the system as a whole and not just the CPU. Furthermore, the average is not as straight as a line as the software-based measurements. In \cref{fig:time_series_Fankuch_Workstation} (e) there is a pattern where there is a sharp peak followed by a sharp drop. Furthermore, there seems to be missing data.\todo{Whats going on here??}

\input{tabels/reulsts_timeseries/Fankuch_workstation.tex}








%\subsection{Binarytress}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/BinaryTrees.tex}
%\subsection{FannkuchRedux}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/FannkuchRedux.tex}
%\subsection{Fasta}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/Fasta.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/Fasta.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/Fasta.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/Fasta.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/Fasta.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/Fasta.tex}
%\subsection{NBody}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/Nbody.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/Nbody.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/Nbody.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/Nbody.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/Nbody.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/Nbody.tex}
%\subsection{TestCaseIdle}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/TestCaseIdle.tex}