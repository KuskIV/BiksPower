\section{Timeseries}\label{sec:timeseries}

%Add expectations

%Sammenligne alle test cases samme DUT og MI. se tendens.
Not all of the graphs are shown since there are a lot. In \cref{fig:time_series_Workstation_RAPL} some timeseries graphs are shown where the DUT is the workstation and the measuring instrument is RAPL. Each graph is an average of all the measurements with that specific configuration. In \cref{fig:time_series_Workstation_RAPL} (e) the idle test case is shown, it clearly has a lower average than the other test cases although there are some spikes. We can also observe that BinaryTress consumes the most energy, followed by FannkuckRedux, Fasta, Nbody and finally TestCaseIdle. Nbody has a lower variance than the other test cases, but like the others it does have some spikes. Since these graphs show an average over the measurements the spikes are consistent over many measurements. Notably all the figures seem to have a spike at around $~28$ seconds into a test case run. This is an interesting observations, in an attempt to figure out why this occurs a look at a second configurations is done. With the same DUT, but using Intel Power Gadget as shown in \cref{fig:time_series_Workstation_IntelPowerGadget} the spike at around $~28$ does not seem to appear. However perhaps it has something to with the Measuring instrument and not the DUT so a third configuration is looked at where DUT: Surface 4 Pro and measuring instrument: RAPL as shown in \cref{fig:time_series_Surface4Pro_RAPL} the spikes also do not seem to appear in this configuration. The cause of the spike is as such currently unknown.\nytafsnit

\input{tabels/reulsts_timeseries/Workstation_Rapl.tex}
%\input{tabels/reulsts_timeseries/Workstation_IntelPowerGadget}
\todo{Put in appendix}
%\input{tabels/reulsts_timeseries/SurfacePro_Rapl.tex}
\todo{Put in appendix}


%\input{tabels/reulsts_timeseries/BinaryTrees_Workstation.tex}

%Så vælg test case. vælg forksellige DUTs.
Now to see how the DUTs differ a look at the same test case with the same measurement instrument, but with different DUTs will be looked at. As can be seen in \cref{fig:time_series_Fankuch_IntelPowerGadget} the Surface Book and Surface 4 Pro look similar however the Surface 4 Pro consumes $~5-10$ more joules each second than the Surface Book. However they are similar in regards to variance except the Surface 4 Pro has more valleys. When looking at \cref{fig:time_series_Fankuch_IntelPowerGadget} (a) which is the workstation it is clear that it consumes notably more energy than the other systems. It also has more variance with more peaks and valleys. Interestingly the workstation shows a trend with a slight climb in the average energy consumption as the test case goes on.\todo{why?}

\input{tabels/reulsts_timeseries/Fankuch_IntelPowerGadget.tex}

Regarding the energy consumption we can see that the Surface Book uses the least, followed by the Surface 4 Pro and then the Workstation. Now if we look at the specifications for each DUT shown in \cref{tab:surfaceBook,tab:surfacePro}. The two laptop CPUs has the same TDP (15 W), however following the trend seen in the graphs, the Surface Book's CPU's configurable TDP-down (7.5 W) is lower than the Surface 4 Pro's(9.5 W). However the workstation's CPU's TDP is much higher at 65 W, which also shows in the energy consumption. There seems to be a corelation between the energy consumption and the TDP.\nytafsnit

%så vælg DUt hvis forskellige measruing instruments. 

Now we compare the different measuring instruments. On \cref{fig:time_series_Fankuch_Workstation} we see the graphs for test case FannkuchRedux on the workstations, since this DUT is the only DUT with clamp measurements as well. First of all if we focus on \cref{fig:time_series_Fankuch_Workstation} (a) \& (b), which are the two software-based measuring instruments on Windows, there is a pretty consistant average, although with a slight upwards trend throughout the run time. The average also seems to be very close to each other, although with Intel Power Gadget the is more variance and the peak and valleys are further from the average. Notable both measuring instruments seem to have a peak at $~10$ seconds. Now if we also look at \cref{fig:time_series_Fankuch_Workstation} (c), which is RAPL, the energy consumption is slightly lower, and the slight upwards trend does not seem to be present. When we look at the clamp measurements shown in \cref{fig:time_series_Fankuch_Workstation} (d) \& (e) there is clearly a higher energy consumption as expected since the clamp measurements measures the system as a whole and not just the CPU. Furthermore the average is not as straight as with the software-based measurements. In \cref{fig:time_series_Fankuch_Workstation} (e) there is pattern where there is a sharp peak followed by a sharp drop. Furthermore, there seems to missing some data.\todo{Whats going on here??}

\input{tabels/reulsts_timeseries/Fankuch_workstation.tex}








%\subsection{Binarytress}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/BinaryTrees.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/BinaryTrees.tex}
%\subsection{FannkuchRedux}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/FannkuchRedux.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/FannkuchRedux.tex}
%\subsection{Fasta}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/Fasta.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/Fasta.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/Fasta.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/Fasta.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/Fasta.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/Fasta.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/Fasta.tex}
%\subsection{NBody}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/Nbody.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/Nbody.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/Nbody.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/Nbody.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/Nbody.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/Nbody.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/Nbody.tex}
%\subsection{TestCaseIdle}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/HardwareMonitor/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Win32NT/IntelPowerGadget/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/Surface4Pro/Unix/RAPL/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/HardwareMonitor/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Win32NT/IntelPowerGadget/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/SurfaceBook/Unix/RAPL/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/HardwareMonitor/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/IntelPowerGadget/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Win32NT/Clamp/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/RAPL/TestCaseIdle.tex}
%\input{tabels/experiment_results/timeseries/PowerKomplett/Unix/Clamp/TestCaseIdle.tex}