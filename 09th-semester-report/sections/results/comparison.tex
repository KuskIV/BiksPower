\section{Comparison}\label{sec:comparison}

In this section, a comparison of the measurements performed on the different DUT's will be performed. This will be done in a manner where all test case measurements will be summed to a boxplot. When analyzing the results, this will be done by looking at each of \textbf{RQ2-4} one at a time. But first, some expectations.


\subsection{Expectations:} 

Based on what was seen in \cref{sec:iterations}, similar observations are expected. This will include a clamp with a high standard deviation compared to the different software measuring instruments, and cases where Intel Power Gadget and LHM measurements will appear similar. For RAPL, a low standard deviation is expected, in addition to lower measured energy consumption in most cases compared to the other measuring instruments. E3 measurements are expected to be somewhere between RAPL and the measurements by IPG and LHM.


\subsection{Results}

When presenting the results, this will be done based on BinaryTrees and Nbody, as these test cases illustrate the different tendencies in the different test cases. The results from the additional test cases can be found in \cref*{app:comparison,app:comparison_surfacebook,app:comparison_surfacepro4,app:comparison_workstation}. Before going into the different research questions, some overall observations can be made. This is first of all regarding the standard deviation of the different measuring instruments, as seen for BinaryTrees and Nbody in \cref*{fig:BinaryTrees_Cores_comparison_dynamic_energy_without_outliers_avg_watts} and \cref*{fig:Nbody_Cores_comparison_dynamic_energy_without_outliers_avg_watts} respectively. The standard deviation for the clamp can be observed to be very high, compared to the different software measuring instruments.

\input{tabels/experiment_results/exp_one/comparison/dynamic_energy/without_outliers/Cores/BinaryTrees.tex}
\input{tabels/experiment_results/exp_one/comparison/dynamic_energy/without_outliers/Cores/Nbody.tex}



\paragraph*{RQ2:}  in \textbf{RQ2}, the different measurement instruments are compared across the different test cases. Here, BinaryTrees and Nbody are illustrated in  \cref*{fig:BinaryTrees_Cores_comparison_dynamic_energy_without_outliers_avg_watts} and \cref*{fig:Nbody_Cores_comparison_dynamic_energy_without_outliers_avg_watts} respectively. When comparing the different measuring instruments, many observations will follow what was found in \cref{sec:iterations}. Here IPG and LHM measurements can be observed to be very similar for all test cases. When comparing against RAPL, RAPL will in most cases measure a lower energy consumption and will in all cases have a lower standard deviation. When comparing the clamp on Windows an Linux, it can be observed in how the energy consumption on Linux is lower, and deviates less compared to Windows, which can be observed across all test cases. When considering E3 measurements, they are for both the Surface Book and the Surface Pro 4 somewhere between the RAPL measurements and IPG and LHM measurements, but with a lower standard deviation than IPG and LHM in most cases.

\input{tabels/experiment_results/exp_one/comparison/Surface4Pro/dynamic_energy/without_outliers/Cores/BinaryTrees.tex}
\input{tabels/experiment_results/exp_one/comparison/Surface4Pro/dynamic_energy/without_outliers/Cores/FannkuchRedux.tex}

\paragraph*{RQ3:} This research question considers the different OS's. When comparing this, \cref*{fig:BinaryTrees_Cores_comparison_dynamic_energy_without_outliers_avg_watts} and \cref*{fig:Nbody_Cores_comparison_dynamic_energy_without_outliers_avg_watts} are used again. When comparing operating systems, two differences can be found, standard deviation and highest energy consumption. When considering the standard deviation, there is more uncertainty for Windows, as can be seen for BinaryTrees in \cref*{fig:BinaryTrees_Cores_comparison_dynamic_energy_without_outliers_avg_watts}. In other cases they are however very similar, as can be observed for Nbody in \cref*{fig:Nbody_Cores_comparison_dynamic_energy_without_outliers_avg_watts}. When comparing the measurement instruments for Windows, E3 will in most cases have a lower standard deviation compared to IPG and LHM. When considering the energy consumption between the OS's, Windows has a higher energy consumption for most test cases and measuring instruments.

\input{tabels/experiment_results/exp_one/comparison/SurfaceBook/dynamic_energy/without_outliers/Cores/BinaryTrees.tex}
\input{tabels/experiment_results/exp_one/comparison/SurfaceBook/dynamic_energy/without_outliers/Cores/Nbody.tex}

\paragraph*{RQ4:} Lastly, \textbf{RQ4} considers the energy consumption between the different DUT's. For this research question additional tables for the different DUT's will be introduced to get a more in-depth look at the measurings. The first DUT is the workstation, where the measurements for BinaryTrees and Nbody can be found in \cref{fig:BinaryTrees_Cores_comparison_dynamic_energy_without_outliers_PowerKomplett_avg_watts} and \cref{fig:Nbody_Cores_comparison_dynamic_energy_without_outliers_PowerKomplett_avg_watts}. For the workstation RAPL will in all cases measure a lower energy consumption except for Nbody. Nbody is also the only test case where the clamp for windows has a lower energy consumption than the clamp on Linux and Nbody is the test case with the lowest energy consumption for all measuring instruments, where BinaryTrees had the highest. The next DUT is the Surface Pro 4, where test case BinaryTrees and Nbody is found in \cref{fig:BinaryTrees_Cores_comparison_dynamic_energy_without_outliers_Surface4Pro_avg_watts} and \cref{fig:Nbody_Cores_comparison_dynamic_energy_without_outliers_Surface4Pro_avg_watts} respectively. When considering the Surface Pro 4, RAPL will in all cases except Fasta report the lowest energy consumption. Given the x-axis in \cref{fig:BinaryTrees_Cores_comparison_dynamic_energy_without_outliers_Surface4Pro_avg_watts} and \cref{fig:Nbody_Cores_comparison_dynamic_energy_without_outliers_Surface4Pro_avg_watts} is $0-20$ rather than $0-80$ seen so far, the difference between IPG and LHM can be seen more clear. Here IPG will in two cases have higher measurements, and more uncertainty compared to LHM. When considering measurements made by E3, they will in some case be more similar to RAPL, like in Fasta, but in other cases be more similar to IPG and LHM like for BinaryTrees. The last DUT is the Surface Book, where the measurements for BinaryTrees and Nbody can be seen in \cref{fig:BinaryTrees_Cores_comparison_dynamic_energy_without_outliers_SurfaceBook_avg_watts} and \cref{fig:Nbody_Cores_comparison_dynamic_energy_without_outliers_SurfaceBook_avg_watts}. One interesting observation for this DUT is the high uncertainty for all measuring instruments when measuring BinaryTrees compared to all other test cases. The Surface Book is also the only DUT where RAPL reports a higher energy consumption compared to the Windows measuring instruments, for both Nbody, BinaryTrees and Fasta.

\input{tabels/experiment_results/exp_one/comparison/PowerKomplett/dynamic_energy/without_outliers/Cores/BinaryTrees.tex}
\input{tabels/experiment_results/exp_one/comparison/PowerKomplett/dynamic_energy/without_outliers/Cores/Nbody.tex}

