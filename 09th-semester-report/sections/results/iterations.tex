\section{Iterations}\label{sec:iterations}

In this section, the energy consumption over time will be analyzed. This will be done by plotting the average, dynamic energy consumption for each iteration after a restart. The results will be analyzed with respect to \textbf{RQ2-4}, where DUT's, test cases and operating systems will be compared for the different measurement instruments. Before this, some expectations will be presented.

\subsection{Expectations}

The expectation for this experimennt, will be to see a similar energy consumption when executing the same test case multiple times between a restart. This expectation is primarily based on the limited effect of R3 validation, as was show in \cref*{subsec:exp_r3}.

\subsection{Results}

For the results, FannkuchRedux and BinaryTrees were chosen as these illustrate the findings well, where the other test cases can be found in \cref{app:iterations}. When discussing the results, it will be done based on \textbf{RQ2-4} one at a time. Before going into depth with theses, some overall comments will be made. It can first of all be noted how in \cref{fig:FannkuchRedux_Cores_iteration} and \cref{fig:BinaryTrees_Cores_iteration}, some DUT's does not have values on the entire x-axis. This is the case for both DUTs with a battery, meaning they reach the lower limit of 40\% before executing the test cases 30 times. It can also be seen how energy consumption does not increase over time, which was expected. 

\paragraph*{RQ2:} The second research question aims to compare the different measurement instruments. When comparing the measurement instruments, some overall comments can be made for all DUT's. One observation os how IPG and LHM seem to have similar measurements across all runs since restart. When comparing IPG and LHM against E3, the similarity seem to differ from test case to test case. In FannkuchRedux in \cref{fig:FannkuchRedux_Cores_iteration}, E3's measurements are lower compared to IPG and LHM, but for BinaryTrees in \cref{fig:BinaryTrees_Cores_iteration}, E3's measurements are similar to IPG and LHM. When considering RAPL measurements, these are in most cases lower compared to IPG and LHM measurements, there are however exceptions, one being for BinaryTrees in \cref*{fig:BinaryTrees_Cores_iteration} for the Surface Book.



\paragraph{Workstation:} The workstation is for all test cases the DUT with the highest energy consumption, which is according to our expectation. This DUT is the only one with Clamp measurements, where this measurement type seems to be the one which deviates the most, which is most likely due to the impact of the energy consumption of the different components within the DUT. This is opposed to the software measuring instruments where only the CPU and RAM are measured. When comparing the Clamp measurements across OSes, Windows seem to have the higher energy consumption overall, as can be observed in \cref{fig:BinaryTrees_Cores_iteration}. When looking at the different software-based measuring instruments, Intel Power Gadget and LHM are observed to be very close when measuring the energy consumption, with RAPL measuring lower energy consumption, in all cases except NBody where RAPL records a higher energy consumption in \cref{fig:Nbody_Cores_iteration}. When comparing hardware and software measuring instruments, they are in some cases very similar, as in \cref{fig:Nbody_Cores_iteration}, but vary more in other cases like in \cref{fig:BinaryTrees_Cores_iteration}.

\paragraph{Surface Book:} When considering the Surface Book, it has the lowest energy consumption in all cases, except when comparing the RAPL measurement for the Surface Pro 4 with the Intel Power Gadget measurements in \cref{fig:FannkuchRedux_Cores_iteration}. Intel Power Gadget and LHM are in all cases except for Nbody in \cref{fig:Nbody_Cores_iteration} close to the same measurement. When considering RAPL, it measures a higher energy consumption compared to Intel Power Gadget and LHM for Fasta, BinaryTrees and NBody, and lower for FannkuchRedux.

\paragraph{Surface Pro 4:} For the Surface Pro 4, the energy consumption is lower compared to the workstation in all cases, and higher compared to the Surface Book in all cases except one. When comparing the software measuring instruments, RAPL will in all cases give the lowest measurement, where Intel Power Gadget and LHM are very close to each other.

\input{tabels/experiment_results/exp_one//graphs/iteration/without_outliers/Cores/FannkuchRedux.tex}
\input{tabels/experiment_results/exp_one/graphs/iteration/without_outliers/Cores/BinaryTrees.tex}
